---
title: "고객민원예측모델" 
author: "Jimin KIM"  
date: "2021.06.08"  
output: rmarkdown::github_document
---


```{r, include=FALSE}

library(lubridate)

TRNS_MNTH <-function(date, mm) {

date <- as.Date(paste0(date,'01'), format='%Y%m%d')
bas_date <- as.Date(ifelse(mm < 0, date+months(-1), date+months(1)), origin = '1970-01-01')

lubridate::month(date) <-lubridate::month(date)+mm
date <- format(date, by='month', length=1, '%Y%m')
bas_date <- format(bas_date, by='month',length=1, '%Y%m')

if (abs(mm) > 1){
  return(c(bas_date,date))
  } 
else {
  return(date)
}
}


```

# 분석모델 분석기간

## 분석기간 정의

```{r, echo=FALSE}
#WRK_YM <- format(Sys.Date(),'%Y%m')
WRK_YM <- "202104"

target_m <- -3
train_m <- -12
test_m <- -12


sprintf("작업년월 : %s", WRK_YM)
sprintf("타겟기간 : %d개월", -target_m)
sprintf("학습기간 : %d개월", -train_m)
sprintf("검증기간 : %d개월", -test_m)


```

## 분석기간 대상

```{r, echo=FALSE}

TARGET_YM <- TRNS_MNTH(WRK_YM, target_m)
TRAIN_YM <- TRNS_MNTH(TARGET_YM[2], train_m)
TEST_YM <- TRNS_MNTH(TRAIN_YM[2], test_m)

#NEW_YM <- TRNS_MNTH(WRK_YM, 12)

#print(TARGET_YM)
#print(TRAIN_YM)
#print(TEST_YM)
#print(NEW_YM)

sprintf("타겟 대상기간 : %s ~ %s", TARGET_YM[2], TARGET_YM[1])
sprintf("학습 대상기간 : %s ~ %s", TRAIN_YM[2], TRAIN_YM[1])
sprintf("검증 대상기간 : %s ~ %s", TEST_YM[2], TEST_YM[1])

```

